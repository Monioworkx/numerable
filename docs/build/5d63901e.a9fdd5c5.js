(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{81:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return o})),a.d(t,"metadata",(function(){return l})),a.d(t,"rightToc",(function(){return i})),a.d(t,"default",(function(){return b}));var n=a(3),r=(a(0),a(93));const o={id:"internationalization",title:"Internationalization (i18n)",sidebar_label:"Internationalization (i18n)"},l={unversionedId:"internationalization",id:"internationalization",isDocsHomePage:!1,title:"Internationalization (i18n)",description:"---",source:"@site/docs\\internationalization.md",slug:"/internationalization",permalink:"/numerable/docs/internationalization",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/internationalization.md",version:"current",sidebar_label:"Internationalization (i18n)"},i=[{value:"Description",id:"description",children:[]},{value:"Usage",id:"usage",children:[]},{value:"Locale option",id:"locale-option",children:[]},{value:"Wrapping localization handling",id:"wrapping-localization-handling",children:[{value:"- Using .withOptions()",id:"--using-withoptions",children:[]},{value:"- Using custom wrappers",id:"--using-custom-wrappers",children:[]}]},{value:"Using numerable locales",id:"using-numerable-locales",children:[]},{value:"Using platform locales",id:"using-platform-locales",children:[]}],c={rightToc:i};function b({components:e,...t}){return Object(r.b)("wrapper",Object(n.a)({},c,t,{components:e,mdxType:"MDXLayout"}),Object(r.b)("hr",null),Object(r.b)("h2",{id:"description"},"Description"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"numerable")," includes two functions that support i18n:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},Object(r.b)("em",{parentName:"strong"},"format"))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},Object(r.b)("em",{parentName:"strong"},"parse")))),Object(r.b)("hr",null),Object(r.b)("h2",{id:"usage"},"Usage"),Object(r.b)("p",null,"In order to handle internationalization, ",Object(r.b)("strong",{parentName:"p"},"numerable")," provides you two ways of dealing with it:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Import a numerable locale")," and pass it to the locale option.  "),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"import { es, enIN } from 'numerable/locale';\nformat(2500000, '0,0.0 a', { locale: es }); //=> '2,5 M'\nformat(2500000, '0,0.0 a', { locale: enIN }); //=> '25.0 L'\n")),Object(r.b)("blockquote",{parentName:"li"},Object(r.b)("ul",{parentName:"blockquote"},Object(r.b)("li",{parentName:"ul"},"Pros: ",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Full cross browser compatibility and consistency"),Object(r.b)("li",{parentName:"ul"},"Additional formatting features"))),Object(r.b)("li",{parentName:"ul"},"Cons:",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Potential increase in the build size (depending on how many different locales your app is using)    ")))),Object(r.b)("p",{parentName:"blockquote"},"See ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#using-numerable-locales"}),"using numerable locales")," for details.  ")),Object(r.b)("br",null))),Object(r.b)("ol",{start:2},Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Pass a valid ",Object(r.b)("a",Object(n.a)({parentName:"strong"},{href:"https://en.wikipedia.org/wiki/IETF_language_tag"}),"language tag"))," string to the locale option.  "),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"import { format, getLocaleFromPlatform } from 'numerable';\n\nformat(2500, '0,0.0 a', { locale: getLocaleFromPlatform('fr') }); //=> '2,5 k'\nformat(2500, '0,0.0 a', { locale: getLocaleFromPlatform('cs') }); //=> '2,5 tis.'\n")),Object(r.b)("blockquote",{parentName:"li"},Object(r.b)("ul",{parentName:"blockquote"},Object(r.b)("li",{parentName:"ul"},"Pros: ",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Smaller bundle size (depending on how many different locales your app is using)"))),Object(r.b)("li",{parentName:"ul"},"Cons:",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Some features won't work on old browsers like IE11 (they will fallback to ",Object(r.b)("em",{parentName:"li"},"en")," language), resulting in potential inconsistency across browsers."),Object(r.b)("li",{parentName:"ul"},"No extra formatting features")))),Object(r.b)("p",{parentName:"blockquote"},"See ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#using-platform-locales"}),"using platform locales")," for details.")))),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"Take into account that the locale formatting options can differ between numerable locales and the ones extracted from the platform. Based in user feedback from other popular libraries, ",Object(r.b)("em",{parentName:"p"},"numerable")," locales return a better result than Intl.NumberFormat.")),Object(r.b)("hr",null),Object(r.b)("h2",{id:"locale-option"},"Locale option"),Object(r.b)("p",null,"The locale option has the following interface"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"locale"),": ",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"type: ",Object(r.b)("strong",{parentName:"li"},Object(r.b)("em",{parentName:"strong"},Object(r.b)("a",Object(n.a)({parentName:"em"},{href:"locale"}),"NumerableLocale")))," | ",Object(r.b)("strong",{parentName:"li"},Object(r.b)("em",{parentName:"strong"},"string"))),Object(r.b)("li",{parentName:"ul"},"default: ",Object(r.b)("strong",{parentName:"li"},Object(r.b)("em",{parentName:"strong"},"en ",Object(r.b)("a",Object(n.a)({parentName:"em"},{href:"locale"}),"NumerableLocale"))))))),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"import { format, parse, getLocaleFromPlatform } from 'numerable';\nimport { de } from 'numerable/locale';\n\n// Passing a NumerableLocale\nformat(1.5, '0.00', { locale: de });\nparse('1,5', { locale: de });\n\n// Passing a locale extracted from the platform\nformat(1.5, '0.00', { locale: getLocaleFromPlatform('de-CH') });\nparse('1.5', { locale: getLocaleFromPlatform('de-CH') });\n")),Object(r.b)("hr",null),Object(r.b)("h2",{id:"wrapping-localization-handling"},"Wrapping localization handling"),Object(r.b)("h3",{id:"--using-withoptions"},"- Using .withOptions()"),Object(r.b)("p",null,"It might seem complicated to require and pass locales as options, but unlike other number formatting libraries which bloats your build with all the locales by default, ",Object(r.b)("strong",{parentName:"p"},"numerable")," forces the developer to manually require locales when needed.  "),Object(r.b)("p",null,"That is why ",Object(r.b)("strong",{parentName:"p"},"numerable")," provide the function ",Object(r.b)("strong",{parentName:"p"},Object(r.b)("em",{parentName:"strong"},".withOptions()"))," on the functions that support i18n. That works as a wrapper for the target function, and basically creates a new function with a predefined set of options. The locale property, can be a function that returns a locale, as you can see in the next example.  "),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"See ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"with-options"}),".withOptions()")," page for more details about this feature.")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"// my-app/utils/format.js\n\nimport { format } from 'numerable';\nimport { es, fr, enIN } from 'numerable/locale';\n\nconst locales = {\n    es,\n    fr,\n    'en-in': enIN,\n};\n\nexport const format = format.withOptions({\n    defaultPattern: '0,0.000',\n    locale: () => {\n        const appLocaleId = window.__myLocaleId__;\n        return locales[appLocaleId];\n    },\n});\n")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"// Later...\n\nimport format from 'my-app/utils/format';\n\u200b\nwindow.__myLocaleId__ = 'es';\nformat(1234.56, '0,0.00');\n// => \"1.234,56\"\n\u200b\n// If the pattern is omitted, it will take the default from the options passed to .withOptions() \"0,0.000\"\nwindow.__myLocaleId__ = 'fr';\nformat(1234.56);\n// => \"1 234,560\"\n\u200b\nwindow.__myLocaleId__ = 'en-in';\nformat(123456789.12, '0,0.0');\n// => \"12,34,56,789.1\"\n\n// 'en' will work, as it is the default locale of numerable\nwindow.__myLocaleId__ = 'en';\nformat(1234.56, '0,0.00');\n// => \"1,234.56\"\n\n")),Object(r.b)("hr",null),Object(r.b)("h3",{id:"--using-custom-wrappers"},"- Using custom wrappers"),Object(r.b)("p",null,"Also, feel free to create your own tiny wrappers to make API simple and use those instead of the original functions:  "),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"// my-app/utils/format.js\n\u200b\nimport { format } from 'numerable';\nimport { es, fr, enIN } from 'numerable/locale';\n\u200b\nconst locales = {\n    es,\n    fr,\n    'en-in': enIN,\n};\n\u200b\nexport default function (value, pattern = '0,0.000', options) {\n    const appLocaleId = window.__myLocaleId__;\n    return format(value, pattern, { locale: locales[appLocaleId], ...options });\n}\n\u200b\n")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"// Later...\n\nimport format from 'my-app/utils/format';\n\u200b\nwindow.__myLocaleId__ = 'es';\nformat(1234.56, '0,0.00');\n// => \"1.234,56\"\n\u200b\n// With our wrapper function, if the pattern is omitted, it will take the default from the wrapper function.\nwindow.__myLocaleId__ = 'fr';\nformat(1234.56);\n// => \"1 234,560\"\n\u200b\nwindow.__myLocaleId__ = 'en-in';\nformat(123456789.12, '0,0.0');\n// => \"12,34,56,789.1\"\n\n// 'en' will work, as it is the default locale of numerable\nwindow.__myLocaleId__ = 'en';\nformat(1234.56, '0,0.00');\n// => \"1,234.56\"\n")),Object(r.b)("hr",null),Object(r.b)("h2",{id:"using-numerable-locales"},"Using numerable locales"),Object(r.b)("p",null,"If a ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"locale"}),Object(r.b)("strong",{parentName:"a"},"NumerableLocale"))," is passed, it will format the number with the specified locale.  "),Object(r.b)("p",null,"The locales provided by ",Object(r.b)("strong",{parentName:"p"},"numerable")," allow full support for formatting options."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Thousands and decimal delimiters"),Object(r.b)("li",{parentName:"ul"},'Abbreviations (e.g. "1.5 K")'),Object(r.b)("li",{parentName:"ul"},'Ordinal numbers (e.g. "3rd")'),Object(r.b)("li",{parentName:"ul"},'Digit grouping style (e.g. "10,00,000.00" or "100,0000.00")'),Object(r.b)("li",{parentName:"ul"},'Different numeral systems (e.g. "\u0662\u200e\u066c\u0665\u200e\u0669\u200e\u0669\u200e\u066c\u0666\u200e\u0665\u200e\u0664\u200e\u066b\u0660\u200e")')),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"import { fr, es, enIN, zh, arEG } from 'numerable/locale';\nformat(1234.56, '0.000', { locale: fr }); // Returns \"1 234,560\"\nformat(2500000, '0,0.0 a', { locale: es }); //=> '2,5 M'\nformat(2500000, '0,0.0 a', { locale: enIN }); //=> '25.0 L'\nformat(2500000, '0,0.0', { locale: zh }); //=> '250,0000.0'\nformat(2544609, '0,0.0', { locale: arEG }); //=> '\u0662\u200e\u066c\u0665\u200e\u0664\u200e\u0664\u200e\u066c\u0666\u200e\u0660\u200e\u0669\u200e\u066b\u0660\u200e'\n")),Object(r.b)("hr",null),Object(r.b)("h2",{id:"using-platform-locales"},"Using platform locales"),Object(r.b)("p",null,"If a ",Object(r.b)("strong",{parentName:"p"},"string")," with a valid ",Object(r.b)("strong",{parentName:"p"},"language tag"),' is passed to the locale option (e.g. "en-IN"), ',Object(r.b)("strong",{parentName:"p"},"numerable")," will format the number based on the platform ",Object(r.b)("strong",{parentName:"p"},Object(r.b)("a",Object(n.a)({parentName:"strong"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat"}),"Intl.NumberFormat")),".  "),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"Take into account that support for Intl.NumberFormat is still limited on some browsers. And some of the features, like abbreviation won't work in old browsers like IE11.  "),Object(r.b)("p",{parentName:"blockquote"},"If a feature is not found in the browser, numerable will still work, and it will fallback to the ",Object(r.b)("strong",{parentName:"p"},"en")," locale for that specific feature.")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"import { format, getLocaleFromPlatform } from 'numerable';\n\nformat(2500, '0.0 a', { locale: getLocaleFromPlatform('fr') }); //=> '2,5 k'\nformat(2500, '0.0 a', { locale: getLocaleFromPlatform('cs') }); //=> '2,5 tis.'\nformat(2500, '0.0 a', { locale: getLocaleFromPlatform('es') }); //=> '2,5 mil'\n")),Object(r.b)("hr",null))}b.isMDXComponent=!0},93:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return f}));var n=a(0),r=a.n(n);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var b=r.a.createContext({}),p=function(e){var t=r.a.useContext(b),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},s=function(e){var t=p(e.components);return r.a.createElement(b.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},u=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,b=c(e,["components","mdxType","originalType","parentName"]),s=p(a),u=n,f=s["".concat(l,".").concat(u)]||s[u]||m[u]||o;return a?r.a.createElement(f,i(i({ref:t},b),{},{components:a})):r.a.createElement(f,i({ref:t},b))}));function f(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,l=new Array(o);l[0]=u;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:n,l[1]=i;for(var b=2;b<o;b++)l[b]=a[b];return r.a.createElement.apply(null,l)}return r.a.createElement.apply(null,a)}u.displayName="MDXCreateElement"}}]);